comment = "#>",
rmarkdown.html_vignette.check_title = FALSE
)
library(morrowplots)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(morrowplots)
library(dplyr)
library(ggplot2)
head(morrowplots)
## name the new dataset mp3 for plot 3
mp3 <-
## filter to only include rows where 'plot_num' is 3 and 'yield_bush' is not 'NA'
dplyr::filter(morrowplots, plot_num == 3, !is.na(yield_bush))  %>%
## condense the filtered data and group it first by 'year' and then by 'treated'
dplyr::group_by(year, treated) %>%
## calculate the average 'yield_bush' for each grouping
## and put that average in a new field called 'mp_ave'
dplyr::summarise(mp_ave = mean(yield_bush))
head(mp3)
ggplot2::ggplot(data = mp3) +
ggplot2::geom_line(ggplot2::aes(x= year, y = mp_ave, color = treated))
ggplot2::ggplot(data = mp3) +
ggplot2::geom_smooth(ggplot2::aes(x= year, y = mp_ave, color = treated))
NASS <- read.csv("NASS_data.csv")
head(NASS)
## remove everything from NASS except 'Year' and 'Value'
NASS <- dplyr::select(NASS, year = Year, nat_ave = Value)
mp3_NASS <-
mp3 %>%
dplyr::left_join(NASS, by = "year")
head(mp3_NASS)
ggplot2::ggplot(data = mp3_NASS) +
## mp_ave color coded by 'treated'
ggplot2::geom_smooth(ggplot2::aes(x= year, y = mp_ave, color = treated))+
## add nat_ave as a dashed black line in the same graph
ggplot2::geom_smooth(ggplot2::aes(x= year, y = nat_ave), linetype = "dashed", color = "black")+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Continuous Corn Yield Trends in Bushels per Acre",
subtitle = "Compared to the U.S. national average (dashed line)"
)+
## add one of the built-in themes
ggplot2::theme_light()
use_github_action()
library(morrowplots)
library(dplyr)
library(ggplot2)
## name the new dataset mp corn for morrow plots corn
mpcorn <-
## filter to only include rows where corn is TRUE and 'yield_bush' is not 'NA'
dplyr::filter(morrowplots, corn == TRUE, !is.na(yield_bush))  %>%
## change 'rotation' data type from double to factor
dplyr::mutate(rotation = as.factor(rotation))
head(mpcorn)
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by rotation
## use line type to differentiate between treated and untreated corn
ggplot2::ggplot(data = mpcorn) +
ggplot2::geom_smooth(ggplot2::aes(x= year, y = yield_bush, color = rotation, linetype = treated))+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yield Trends in Bushels per Acre",
subtitle = "By treatment and number of crops in rotation")+
## add one of the built-in themes
ggplot2::theme_light()
ggplot(data = filter(mpcorn, plot_num == 3)) +
geom_point (aes(x= year, y = yield_bush, color = crop, shape = treated), size = 2.5) +
theme_light()+
facet_wrap(vars(plot_dir), ncol = 2)
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = crop, shape = treated), size = 2.5) +
theme_light()+
facet_wrap(vars(plot_dir), ncol = 2)
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treated), size = 2.5) +
theme_light()+
facet_wrap(vars(plot_dir), ncol = 2)
View(mpcorn)
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treated), size = 2.5) +
theme_light()+
facet_wrap(vars(plot), ncol = 4)
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treated)) +
theme_light()+
facet_wrap(vars(plot), ncol = 4)
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treated)) +
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treatment)) +
## create a grid of related plots with facet_wrap
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treated)) +
## create a grid of related plots with facet_wrap
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot(data = filter(mpcorn, plot_num == 4)) +
geom_point (aes(x= year, y = yield_bush, color = treatment)) +
## create a grid of related plots with facet_wrap
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot(data = filter(mpcorn, plot_num == 3)) +
geom_point (aes(x= year, y = yield_bush, color = treatment)) +
## create a grid of related plots with facet_wrap
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot(data = filter(mpcorn, plot_num == 5)) +
geom_point (aes(x= year, y = yield_bush, color = treatment)) +
## create a grid of related plots with facet_wrap
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot2::ggplot(data = dplyr::filter(mpcorn, plot_num == 5))+
ggplot2::geom_point(ggplot2::aes(x= year, y = yield_bush, color = treated))+
## create a grid of related plots with facet_wrap
ggplot2::facet_wrap(vars(plot), ncol = 4)+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot2::ggplot(data = mpcorn)+
ggplot2::geom_point(ggplot2::aes(x= year, y = yield_bush, color = treated))+
## create a grid of related plots with facet_wrap
ggplot2::facet_wrap(vars(plot_num), ncol = 1)+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By treatment and subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'rotation'
## use line type to differentiate between treated and untreated corn
ggplot2::ggplot(data = mpcorn) +
ggplot2::geom_smooth(ggplot2::aes(x= year, y = yield_bush, color = rotation, linetype = treated))+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yield Trends in Bushels per Acre",
subtitle = "Treated vs. untreated and by number of crops in rotation")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot2::ggplot(data = mpcorn)+
ggplot2::geom_point(ggplot2::aes(x= year, y = yield_bush, color = treated))+
## create a grid of related plots with facet_wrap
ggplot2::facet_wrap(vars(plot_num), ncol = 1)+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "By plot and treated vs. untreated")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot2::ggplot(data = mpcorn)+
ggplot2::geom_point(ggplot2::aes(x= year, y = yield_bush, color = treated))+
## create a grid of related plots with facet_wrap
ggplot2::facet_wrap(vars(plot_num), ncol = 1)+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "Treated vs. untreated by plot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot2::ggplot(data = dplyr::filter(mpcorn, plot_num == 5))+
ggplot2::geom_point(ggplot2::aes(x= year, y = yield_bush, color = treated))+
## create a grid of related plots with facet_wrap
ggplot2::facet_wrap(vars(plot), ncol = 4)+
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "Plot 5 treated vs. untreated by subplot")+
## add one of the built-in themes
ggplot2::theme_light()
## create a smooth line plot with 'year' on the x axis and 'yield_bush' on the y axis
## color code the lines by 'treated'
ggplot(data = filter(mpcorn, plot_num == 5)) +
geom_point (aes(x= year, y = yield_bush, color = treatment)) +
## create a grid of related plots with facet_wrap
facet_wrap(vars(plot), ncol = 4) +
## add title and subtitle
ggplot2::labs(title = "Morrow Plots Corn Yields in Bushels per Acre",
subtitle = "Plot 5 by subplot and treatment")+
## add one of the built-in themes
ggplot2::theme_light()
library(morrowplots)
library(dplyr)
library(ggplot2)
kable(head(morrowplots))
head(morrowplots)
library(usethis)
?use_logo
use_logo(".morrowplots_hex_logo.png")
getwd()
> use_logo("../morrowplots_hex_logo.png")
use_logo("../morrowplots_hex_logo.png")
library(devtools)
check()
library(pkgbuild)
check()
check()
library(usethis)
use_vignette("plots-extras")
library(usethis)
use_logo("morrowplots_hex_logo1")
use_logo("morrowplots_hex_logo1.png")
use_logo(..\"morrowplots_hex_logo1.png")
getwd()
use_logo(../"morrowplots_hex_logo1.png")
use_logo(./"morrowplots_hex_logo1.png")
use_logo("../morrowplots_hex_logo1.png")
use_logo("../morrowplots_hex_logo1.png")
library(devtools)
check()
check()
library(devtools)
check(remote = TRUE, manual = TRUE)
library(devtools)
check_win_devel()
use_github_action()
use_github_action()
use_release_issue()
check()
use_github_links()
use_github_links()
use_github_links(overwrite = TRUE)
library(urlchecker)
url_check()
build_readme()
check(remote = TRUE, manual = TRUE)
check_mac_release()
submit_cran()
library(devtools)
use_github_release()
use_dev_version()
use_dev_version()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
## preview first 12 rows of data
library(morrowplots)
library(knitr)
kable(morrowplots[1:12, ])
help(morrowplots)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
library(devtools)
build_readme()
library(tidyverse)
morrowplots <- read_csv("../morrow-plots_v02_1888-2021_soil.csv")
usethis::use_data(morrowplots, overwrite = TRUE)
load("~/R/morrowplots/data/morrowplots.rda")
View(morrowplots)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
## preview first 12 rows of data
library(morrowplots)
library(knitr)
kable(morrowplots[1:12, ])
help(morrowplots)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
devtools::check()
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
## preview first 12 rows of data
library(morrowplots)
library(knitr)
kable(morrowplots[1:12, ])
help(morrowplots)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
devtools::build()
devtools::build_readme()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
## preview first 12 rows of data
library(morrowplots)
library(knitr)
kable(morrowplots[1:12, ])
help(morrowplots)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
View(morrowplots)
devtools::install()
devtools::build_readme()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
## preview first 12 rows of data
library(morrowplots)
library(knitr)
kable(morrowplots[1:12, ])
help(morrowplots)
## display just the variables and definitions from the help supplied by data.R; hard coded here as "lines = 38:100"
help_console <- function(topic, format=c("text", "html", "latex", "Rd"),
lines=NULL, before=NULL, after=NULL) {
format=match.arg(format)
if (!is.character(topic)) topic <- deparse(substitute(topic))
helpfile = utils:::.getHelpFile(help(topic))
hs <- capture.output(switch(format,
text=tools:::Rd2txt(helpfile),
html=tools:::Rd2HTML(helpfile),
latex=tools:::Rd2latex(helpfile),
Rd=tools:::prepare_Rd(helpfile)
)
)
if(!is.null(lines)) hs <- hs[lines]
hs <- c(before, hs, after)
cat(hs, sep="\n")
invisible(hs)
}
help_console(morrowplots, "html", lines = 38:100)
